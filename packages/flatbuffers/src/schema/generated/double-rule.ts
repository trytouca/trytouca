// automatically generated by the FlatBuffers compiler, do not modify

import * as flatbuffers from 'flatbuffers'

import { ComparisonMode } from './comparison-mode'

export class DoubleRule {
  bb: flatbuffers.ByteBuffer | null = null
  bb_pos = 0
  __init(i: number, bb: flatbuffers.ByteBuffer): DoubleRule {
    this.bb_pos = i
    this.bb = bb
    return this
  }

  static getRootAsDoubleRule(
    bb: flatbuffers.ByteBuffer,
    obj?: DoubleRule
  ): DoubleRule {
    return (obj || new DoubleRule()).__init(
      bb.readInt32(bb.position()) + bb.position(),
      bb
    )
  }

  static getSizePrefixedRootAsDoubleRule(
    bb: flatbuffers.ByteBuffer,
    obj?: DoubleRule
  ): DoubleRule {
    bb.setPosition(bb.position() + flatbuffers.SIZE_PREFIX_LENGTH)
    return (obj || new DoubleRule()).__init(
      bb.readInt32(bb.position()) + bb.position(),
      bb
    )
  }

  mode(): ComparisonMode {
    const offset = this.bb!.__offset(this.bb_pos, 4)
    return offset
      ? this.bb!.readUint8(this.bb_pos + offset)
      : ComparisonMode.Absolute
  }

  min(): number | null {
    const offset = this.bb!.__offset(this.bb_pos, 6)
    return offset ? this.bb!.readFloat64(this.bb_pos + offset) : null
  }

  max(): number | null {
    const offset = this.bb!.__offset(this.bb_pos, 8)
    return offset ? this.bb!.readFloat64(this.bb_pos + offset) : null
  }

  percent(): boolean | null {
    const offset = this.bb!.__offset(this.bb_pos, 10)
    return offset ? !!this.bb!.readInt8(this.bb_pos + offset) : null
  }

  static startDoubleRule(builder: flatbuffers.Builder) {
    builder.startObject(4)
  }

  static addMode(builder: flatbuffers.Builder, mode: ComparisonMode) {
    builder.addFieldInt8(0, mode, ComparisonMode.Absolute)
  }

  static addMin(builder: flatbuffers.Builder, min: number) {
    builder.addFieldFloat64(1, min, 0)
  }

  static addMax(builder: flatbuffers.Builder, max: number) {
    builder.addFieldFloat64(2, max, 0)
  }

  static addPercent(builder: flatbuffers.Builder, percent: boolean) {
    builder.addFieldInt8(3, +percent, 0)
  }

  static endDoubleRule(builder: flatbuffers.Builder): flatbuffers.Offset {
    const offset = builder.endObject()
    return offset
  }

  static createDoubleRule(
    builder: flatbuffers.Builder,
    mode: ComparisonMode,
    min: number | null,
    max: number | null,
    percent: boolean | null
  ): flatbuffers.Offset {
    DoubleRule.startDoubleRule(builder)
    DoubleRule.addMode(builder, mode)
    if (min !== null) DoubleRule.addMin(builder, min)
    if (max !== null) DoubleRule.addMax(builder, max)
    if (percent !== null) DoubleRule.addPercent(builder, percent)
    return DoubleRule.endDoubleRule(builder)
  }

  unpack(): DoubleRuleT {
    return new DoubleRuleT(this.mode(), this.min(), this.max(), this.percent())
  }

  unpackTo(_o: DoubleRuleT): void {
    _o.mode = this.mode()
    _o.min = this.min()
    _o.max = this.max()
    _o.percent = this.percent()
  }
}

export class DoubleRuleT {
  constructor(
    public mode: ComparisonMode = ComparisonMode.Absolute,
    public min: number | null = null,
    public max: number | null = null,
    public percent: boolean | null = null
  ) {}

  pack(builder: flatbuffers.Builder): flatbuffers.Offset {
    return DoubleRule.createDoubleRule(
      builder,
      this.mode,
      this.min,
      this.max,
      this.percent
    )
  }
}
